@import '../../assets/scss/variables';
@import '../../assets/scss/mixins';

$card-width: 75vw;
$card-height: 50vh;
$scrollbar-hidden-padding: 4.2rem;

.wrapper {
    margin: 0 -1.25rem;
    height: 372px;
    overflow: hidden;

    .section__title {
        padding: 0 1.5rem;
    }
}

.strip {
    scroll-snap-type: x mandatory;
    overflow-x: scroll;
    overflow-y: hidden;
    display: flex;
    padding: 0 0.75rem;
    margin-top: 16px;
    box-sizing: border-box;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    transform: translate3d(0,0,0);

    &__item {
        flex: 1 0 100%;
        position: relative;
        scroll-snap-align: center;
        max-width: $card-width;
        margin-bottom: $scrollbar-hidden-padding;
        padding: 0 0.75rem;
        transform: translate3d(0,0,0);
        
        &:last-child {
            padding-right: 1.5rem;
        }

        &-inner {
            display: flex;
            align-items: flex-end;
            overflow: hidden;
            background-color: $color-white;
            box-shadow: $block-item-shadow;

            &__link {
                display: block;
                width: 100%;
            }

            &__info {
                flex: 1 0 100%;
                padding: 16px 20px 20px;
                max-width: 100%;
                box-sizing: border-box;
                
                &__title {
                    color: $color-base;
                    font-size: 1rem;
                    line-height: 24px;
                    max-height: 48px;
                    margin: 0 0 12px;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    display: -webkit-box;
                    -webkit-box-orient: vertical;
                    -webkit-line-clamp: 2; /* number of lines to show */

                    &__link {
                        color: $color-base;
                    }
                }

                &__date {
                    display: block;
                    font-size: 14px;
                    line-height: 20px;
                    color: lighten($color-base, 20%);
                }
            }
        }

        &.has_featured-image {
            .strip__item-inner {
                &__postThumbnail {
                    width: 100%;
                    height: 160px;
                    overflow: hidden;
                    box-sizing: border-box;
                }
            }
        }
    }
}

@include breakpoint-sm {
    .wrapper {
        height: auto;

        .section__title {
            padding: 0 1.75rem;
        }
    }

    .strip {
        scroll-snap-type: none;
        overflow: visible;
        flex-wrap: wrap;
        padding-bottom: 20px;

        &__item {
            flex-basis: 33.3%;
            max-width: calc(33.3% - 32px);
            padding: 0 1rem;
            margin-bottom: 32px;

            &.has_featured-image {
                .strip__item-inner {
                    &__postThumbnail {
                        height: 240px;
                    }
                }
            }
        }
    }
}

@include breakpoint-md {
    .wrapper {
        margin: 0 -2.1875rem;
    }
}